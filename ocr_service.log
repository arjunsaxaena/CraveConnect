2025-05-23 06:39:18,294 - app.config - INFO - Processing menu for restaurant_id: 99bba2a5-283b-4097-a390-c70245dc7c49
2025-05-23 06:39:18,295 - app.config - INFO - Read image data: 115241 bytes, content_type: application/octet-stream
2025-05-23 06:39:18,295 - app.config - INFO - Saved debug image to disk
2025-05-23 06:39:18,351 - app.config - INFO - Image quality metrics: {'contrast': 83.84663675589177, 'brightness': 74.40495506311746, 'sharpness': 1466.8047526756282, 'text_area_ratio': 0.8068314352360044}
2025-05-23 06:39:18,647 - app.config - INFO - Image processed. Original size: (1280, 911, 3)
2025-05-23 06:39:19,245 - app.config - INFO - OCR extracted 678 characters
2025-05-23 06:39:19,246 - app.config - INFO - OCR preview: %¢ DIALOG  S eins LCOFFEES) [Happiness tecappacene erepared By Frectil Gromced Cotter Beare imported...
2025-05-23 06:39:19,246 - app.config - INFO - Sending OCR text to LLM for parsing
2025-05-23 06:39:24,241 - app.config - INFO - LLM raw response preview: ```json
[
  {
    "name": "Happiness",
    "description": "Cappuccino Prepared By Freshly Grounded C
2025-05-23 06:39:24,241 - app.config - INFO - Extracted JSON: [
  {
    "name": "Happiness",
    "description": "Cappuccino Prepared By Freshly Grounded Coffee Be...
2025-05-23 06:39:24,241 - app.config - INFO - Successfully parsed JSON with 8 items
2025-05-23 06:39:24,241 - app.config - INFO - Text LLM returned 8 items from OCR text
2025-05-23 06:39:24,242 - app.config - INFO - Using vision API directly as well
2025-05-23 06:39:37,069 - app.config - INFO - Vision API raw response preview: ```json
[
  {
    "name": "Café Americano",
    "description": "Black Coffee",
    "price": 90,
    
2025-05-23 06:39:37,069 - app.config - INFO - Extracted JSON: [
  {
    "name": "Café Americano",
    "description": "Black Coffee",
    "price": 90,
    "categor...
2025-05-23 06:39:37,069 - app.config - INFO - Successfully parsed Vision API JSON with 26 items
2025-05-23 06:39:37,070 - app.config - INFO - Vision API returned 26 items
2025-05-23 06:39:37,075 - app.config - ERROR - Error processing menu: 'NoneType' object has no attribute 'strip'
2025-05-23 06:39:37,077 - app.config - ERROR - Traceback (most recent call last):
  File "C:\Users\dhruv\OneDrive\Desktop\project\CraveConnect\backend\ocr_service\app\routes.py", line 44, in process_menu
    merged_items = merge_menu_items(vision_items, ocr_items)
  File "C:\Users\dhruv\OneDrive\Desktop\project\CraveConnect\backend\ocr_service\app\schemas.py", line 22, in merge_menu_items
    ocr_name = ocr_item.get("name", "").strip()
AttributeError: 'NoneType' object has no attribute 'strip'

2025-05-23 06:48:07,390 - app.config - INFO - Processing menu for restaurant_id: 01e04404-f237-42f0-8283-5dbc1a43da75
2025-05-23 06:48:07,391 - app.config - INFO - Read image data: 115241 bytes, content_type: application/octet-stream
2025-05-23 06:48:07,391 - app.config - INFO - Saved debug image to disk
2025-05-23 06:48:07,430 - app.config - INFO - Image quality metrics: {'contrast': 83.84663675589177, 'brightness': 74.40495506311746, 'sharpness': 1466.8047526756282, 'text_area_ratio': 0.8068314352360044}
2025-05-23 06:48:07,737 - app.config - INFO - Image processed. Original size: (1280, 911, 3)
2025-05-23 06:48:08,297 - app.config - INFO - OCR extracted 678 characters
2025-05-23 06:48:08,297 - app.config - INFO - OCR preview: %¢ DIALOG  S eins LCOFFEES) [Happiness tecappacene erepared By Frectil Gromced Cotter Beare imported...
2025-05-23 06:48:08,298 - app.config - INFO - Sending OCR text to LLM for parsing
2025-05-23 06:48:12,994 - app.config - INFO - LLM raw response preview: ```json
[
  {
    "name": "Happiness",
    "description": "Cappuccino Prepared By Freshly Grounded C
2025-05-23 06:48:12,994 - app.config - INFO - Extracted JSON: [
  {
    "name": "Happiness",
    "description": "Cappuccino Prepared By Freshly Grounded Coffee Be...
2025-05-23 06:48:12,994 - app.config - INFO - Successfully parsed JSON with 8 items
2025-05-23 06:48:12,994 - app.config - INFO - Text LLM returned 8 items from OCR text
2025-05-23 06:48:12,994 - app.config - INFO - Using vision API directly as well
2025-05-23 06:48:25,774 - app.config - INFO - Vision API raw response preview: ```json
[
  {
    "name": "Café Americano",
    "description": "Black Coffee",
    "price": 90,
    
2025-05-23 06:48:25,774 - app.config - INFO - Extracted JSON: [
  {
    "name": "Café Americano",
    "description": "Black Coffee",
    "price": 90,
    "categor...
2025-05-23 06:48:25,775 - app.config - INFO - Successfully parsed Vision API JSON with 26 items
2025-05-23 06:48:25,775 - app.config - INFO - Vision API returned 26 items
2025-05-23 06:48:25,775 - app.config - INFO - Merging 26 vision items with 8 OCR items
2025-05-23 06:48:25,784 - app.config - WARNING - OCR item has None name, using empty string instead: {'name': None, 'description': 'Smooth blend Of Crushed Fresh Strawberries Added To Toasted Marsh Mallow', 'price': 140, 'category': 'SHAKES & SMOOTHIES'}
2025-05-23 06:48:25,785 - app.config - WARNING - Skipping OCR item with empty name: {'name': None, 'description': 'Smooth blend Of Crushed Fresh Strawberries Added To Toasted Marsh Mallow', 'price': 140, 'category': 'SHAKES & SMOOTHIES'}
2025-05-23 06:48:25,785 - app.config - WARNING - Skipping item without price: {'name': 'Dialog Secret Recipe', 'description': 'Ingredient Mixed into Blender & Hand Gun Toasted Marsh Mallow', 'price': None, 'category': 'SHAKES & SMOOTHIES'}
2025-05-23 06:48:25,785 - app.config - WARNING - Skipping item without price: {'name': 'Your Childhood Crush', 'description': 'Game Take Nuptial Vows With Wafer, Great in Our Blender', 'price': None, 'category': 'SHAKES & SMOOTHIES'}
2025-05-23 06:48:25,785 - app.config - INFO - Merged items count after validation: 26
2025-05-23 06:48:25,785 - app.config - INFO - Merged results: 26 items
2025-05-23 06:48:25,785 - app.config - INFO - Final extracted menu items:
2025-05-23 06:48:25,785 - app.config - INFO -   Item 1: Café Americano - 90.0 - COFFEES
2025-05-23 06:48:25,785 - app.config - INFO -   Item 2: Happiness - 130.0 - COFFEES
2025-05-23 06:48:25,785 - app.config - INFO -   Item 3: Café Latte - 140.0 - COFFEES
2025-05-23 06:48:25,787 - app.config - INFO -   Item 4: Café Mocha - 140.0 - COFFEES
2025-05-23 06:48:25,787 - app.config - INFO -   Item 5: Hazelnut Latte - 140.0 - COFFEES
2025-05-23 06:48:25,787 - app.config - INFO -   ... and 21 more items
2025-05-23 06:48:25,787 - app.config - INFO - Mapped to 26 menu items
2025-05-23 06:48:25,787 - app.config - INFO - Sending items to menu service API
2025-05-23 06:48:25,787 - app.config - INFO - Sending menu items to http://localhost:8002/api/menu
2025-05-23 06:48:25,787 - app.config - INFO - Sending item: Café Americano
2025-05-23 06:48:25,795 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,795 - app.config - INFO - Sending item: Happiness
2025-05-23 06:48:25,798 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,798 - app.config - INFO - Sending item: Café Latte
2025-05-23 06:48:25,802 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,802 - app.config - INFO - Sending item: Café Mocha
2025-05-23 06:48:25,804 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,805 - app.config - INFO - Sending item: Hazelnut Latte
2025-05-23 06:48:25,807 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,807 - app.config - INFO - Sending item: Caramel Latte
2025-05-23 06:48:25,810 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,810 - app.config - INFO - Sending item: Iced Americano
2025-05-23 06:48:25,813 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,813 - app.config - INFO - Sending item: Ginger Ale Syrup
2025-05-23 06:48:25,815 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,816 - app.config - INFO - Sending item: Hot Chocolate
2025-05-23 06:48:25,818 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,819 - app.config - INFO - Sending item: Nutella Hot Chocolate
2025-05-23 06:48:25,821 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,821 - app.config - INFO - Sending item: Café Dialog Frappe
2025-05-23 06:48:25,823 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,824 - app.config - INFO - Sending item: Irish Iced Frappe
2025-05-23 06:48:25,826 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,826 - app.config - INFO - Sending item: Dialog's Dare Devil Frappe
2025-05-23 06:48:25,828 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,829 - app.config - INFO - Sending item: Crunchy Caramel Frappe
2025-05-23 06:48:25,831 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,832 - app.config - INFO - Sending item: Hazelnut Frappe
2025-05-23 06:48:25,836 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,836 - app.config - INFO - Sending item: Double Choco Chip Frappe
2025-05-23 06:48:25,839 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,839 - app.config - INFO - Sending item: Frozen Strawberry Margarita Delight
2025-05-23 06:48:25,842 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,842 - app.config - INFO - Sending item: Chocolate Heaven Pleasure
2025-05-23 06:48:25,845 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,845 - app.config - INFO - Sending item: Toasted Marsh Mallow
2025-05-23 06:48:25,847 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,848 - app.config - INFO - Sending item: Cadbury- Gems Meets Kit-Kat
2025-05-23 06:48:25,849 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,850 - app.config - INFO - Sending item: No Cardio Only Oreo
2025-05-23 06:48:25,852 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,853 - app.config - INFO - Sending item: Strawberry Toasted Marsh Mallow
2025-05-23 06:48:25,856 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,856 - app.config - INFO - Sending item: Nutella Love Story
2025-05-23 06:48:25,859 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,859 - app.config - INFO - Sending item: Mango Smoothie
2025-05-23 06:48:25,862 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,862 - app.config - INFO - Sending item: Choco Lava Shake
2025-05-23 06:48:25,865 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,865 - app.config - INFO - Sending item: Ferrero Rocher Shake
2025-05-23 06:48:25,868 - app.config - INFO - Response status: 201
2025-05-23 06:48:25,868 - app.config - INFO - Successfully created 26 menu items
2025-05-23 06:51:51,833 - app.config - INFO - Processing menu for restaurant_id: d3f3dc47-0d57-46b3-a140-9de268d34675
2025-05-23 06:51:51,833 - app.config - INFO - Read image data: 326642 bytes, content_type: application/octet-stream
2025-05-23 06:51:51,834 - app.config - INFO - Saved debug image to disk
2025-05-23 06:51:51,843 - app.config - INFO - Image quality metrics: {'contrast': 49.93465848748769, 'brightness': 136.6096866096866, 'sharpness': 2530.106096294873, 'text_area_ratio': 0.434099398543843}
2025-05-23 06:51:52,141 - app.config - INFO - Image processed. Original size: (450, 351, 3)
2025-05-23 06:51:52,509 - app.config - INFO - OCR extracted 303 characters
2025-05-23 06:51:52,509 - app.config - INFO - OCR preview: ct Eataaiottien, oe TERS SaaaRes a Cero wean ee ssezeebloedle Soups... ag > ot : | ESR: sac Og ees B...
2025-05-23 06:51:52,509 - app.config - INFO - Sending OCR text to LLM for parsing
2025-05-23 06:51:53,124 - app.config - INFO - LLM raw response preview: ```json
[]
```

2025-05-23 06:51:53,124 - app.config - WARNING - Extracted empty JSON array
2025-05-23 06:51:53,124 - app.config - INFO - Extracted JSON: []...
2025-05-23 06:51:53,124 - app.config - INFO - Successfully parsed JSON with 0 items
2025-05-23 06:51:53,124 - app.config - INFO - Text LLM returned 0 items from OCR text
2025-05-23 06:51:53,124 - app.config - INFO - Using vision API directly as well
2025-05-23 06:52:15,242 - app.config - INFO - Vision API raw response preview: ```json
[
  {
    "name": "Shrimp Dumpling",
    "description": null,
    "price": 490,
    "categor
2025-05-23 06:52:15,243 - app.config - INFO - Extracted JSON: [
  {
    "name": "Shrimp Dumpling",
    "description": null,
    "price": 490,
    "category": "Din...
2025-05-23 06:52:15,243 - app.config - INFO - Successfully parsed Vision API JSON with 63 items
2025-05-23 06:52:15,243 - app.config - INFO - Vision API returned 63 items
2025-05-23 06:52:15,243 - app.config - INFO - Merging 63 vision items with 0 OCR items
2025-05-23 06:52:15,243 - app.config - INFO - Merged items count after validation: 63
2025-05-23 06:52:15,244 - app.config - INFO - Merged results: 63 items
2025-05-23 06:52:15,244 - app.config - INFO - Final extracted menu items:
2025-05-23 06:52:15,244 - app.config - INFO -   Item 1: Shrimp Dumpling - 490.0 - Dinner Dim Sum
2025-05-23 06:52:15,244 - app.config - INFO -   Item 2: Guo Mai - 455.0 - Dinner Dim Sum
2025-05-23 06:52:15,244 - app.config - INFO -   Item 3: Spare Ribs - 425.0 - Dinner Dim Sum
2025-05-23 06:52:15,244 - app.config - INFO -   Item 4: Steamed Spare Ribs - 455.0 - Dinner Dim Sum
2025-05-23 06:52:15,244 - app.config - INFO -   Item 5: Chicken Feet - 455.0 - Dinner Dim Sum
2025-05-23 06:52:15,245 - app.config - INFO -   ... and 58 more items
2025-05-23 06:52:15,245 - app.config - INFO - Mapped to 63 menu items
2025-05-23 06:52:15,245 - app.config - INFO - Sending items to menu service API
2025-05-23 06:52:15,245 - app.config - INFO - Sending menu items to http://localhost:8002/api/menu
2025-05-23 06:52:15,245 - app.config - INFO - Sending item: Shrimp Dumpling
2025-05-23 06:52:15,251 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,251 - app.config - INFO - Sending item: Guo Mai
2025-05-23 06:52:15,255 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,255 - app.config - INFO - Sending item: Spare Ribs
2025-05-23 06:52:15,259 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,259 - app.config - INFO - Sending item: Steamed Spare Ribs
2025-05-23 06:52:15,262 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,262 - app.config - INFO - Sending item: Chicken Feet
2025-05-23 06:52:15,266 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,266 - app.config - INFO - Sending item: Beef
2025-05-23 06:52:15,270 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,270 - app.config - INFO - Sending item: Beef Honey Comb
2025-05-23 06:52:15,274 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,274 - app.config - INFO - Sending item: Steamed Beef Skin Rolls
2025-05-23 06:52:15,277 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,277 - app.config - INFO - Sending item: Stuff Beef Ribs
2025-05-23 06:52:15,280 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,281 - app.config - INFO - Sending item: Mushroom Stuff Ball
2025-05-23 06:52:15,285 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,285 - app.config - INFO - Sending item: Chicken Fun Siu
2025-05-23 06:52:15,288 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,288 - app.config - INFO - Sending item: Sticky Rice in Lotus Leaf
2025-05-23 06:52:15,292 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,292 - app.config - INFO - Sending item: Steamed BBQ Pork Bun
2025-05-23 06:52:15,295 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,295 - app.config - INFO - Sending item: Fried Custard Buns
2025-05-23 06:52:15,299 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,299 - app.config - INFO - Sending item: Steamed Shrimp Ball
2025-05-23 06:52:15,303 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,303 - app.config - INFO - Sending item: Bacon Wrapped Shrimp Rolls
2025-05-23 06:52:15,307 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,307 - app.config - INFO - Sending item: Crispy Shrimp Dumpling
2025-05-23 06:52:15,311 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,311 - app.config - INFO - Sending item: Stuff Eggplants
2025-05-23 06:52:15,315 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,315 - app.config - INFO - Sending item: Stuff Green Peppers
2025-05-23 06:52:15,317 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,318 - app.config - INFO - Sending item: Dumplings (Fried)
2025-05-23 06:52:15,321 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,321 - app.config - INFO - Sending item: Turnip Cake (Fried)
2025-05-23 06:52:15,324 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,324 - app.config - INFO - Sending item: Sesame Seed Balls
2025-05-23 06:52:15,328 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,328 - app.config - INFO - Sending item: Fried Taro Dumpling
2025-05-23 06:52:15,334 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,334 - app.config - INFO - Sending item: Fried Glutinous Pork Dumpling
2025-05-23 06:52:15,338 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,338 - app.config - INFO - Sending item: Shrimp Rice Paste
2025-05-23 06:52:15,342 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,342 - app.config - INFO - Sending item: Beef Rice Paste
2025-05-23 06:52:15,345 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,345 - app.config - INFO - Sending item: BBQ Pork Rice Paste
2025-05-23 06:52:15,349 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,349 - app.config - INFO - Sending item: Fried Shrimp Rice Paste
2025-05-23 06:52:15,353 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,353 - app.config - INFO - Sending item: Dry Criller Rice Paste
2025-05-23 06:52:15,356 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,356 - app.config - INFO - Sending item: Dim Sum Combo
2025-05-23 06:52:15,360 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,360 - app.config - INFO - Sending item: Californian Wonton Noodle Soup
2025-05-23 06:52:15,366 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,366 - app.config - INFO - Sending item: Beef Stew Noodle Soup
2025-05-23 06:52:15,370 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,370 - app.config - INFO - Sending item: Roast Duck Noodle Soup
2025-05-23 06:52:15,374 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,374 - app.config - INFO - Sending item: BBQ Roast Pork Noodle Soup
2025-05-23 06:52:15,379 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,379 - app.config - INFO - Sending item: Seafood Noodle Soup
2025-05-23 06:52:15,384 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,384 - app.config - INFO - Sending item: Pork/Preserves Veg Soup
2025-05-23 06:52:15,388 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,388 - app.config - INFO - Sending item: Chicken Chow Fun
2025-05-23 06:52:15,392 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,392 - app.config - INFO - Sending item: Roast Pork Chow Fun
2025-05-23 06:52:15,397 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,398 - app.config - INFO - Sending item: Beef Chow Fun
2025-05-23 06:52:15,402 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,402 - app.config - INFO - Sending item: Roast Beef/Roast Pork Chow Fun
2025-05-23 06:52:15,406 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,406 - app.config - INFO - Sending item: Shrimp Chow Fun
2025-05-23 06:52:15,409 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,409 - app.config - INFO - Sending item: Seafood Chow Fun
2025-05-23 06:52:15,413 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,413 - app.config - INFO - Sending item: Chicken Udon Noodle
2025-05-23 06:52:15,416 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,416 - app.config - INFO - Sending item: Pork Udon Noodle
2025-05-23 06:52:15,420 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,420 - app.config - INFO - Sending item: Beef Udon Noodle
2025-05-23 06:52:15,424 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,424 - app.config - INFO - Sending item: Seafood Udon Noodle
2025-05-23 06:52:15,426 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,427 - app.config - INFO - Sending item: Mushroom Longevity Noodle
2025-05-23 06:52:15,430 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,430 - app.config - INFO - Sending item: Preserved Pork Longevity Noodle
2025-05-23 06:52:15,433 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,433 - app.config - INFO - Sending item: Vegetable Longevity Noodle
2025-05-23 06:52:15,436 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,437 - app.config - INFO - Sending item: Soy Sauce Noodle
2025-05-23 06:52:15,440 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,440 - app.config - INFO - Sending item: Chicken Pan Fried Noodle
2025-05-23 06:52:15,443 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,443 - app.config - INFO - Sending item: Shredded Pork Pan Fried Noodle
2025-05-23 06:52:15,445 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,446 - app.config - INFO - Sending item: Shrimp Pan Fried Noodle
2025-05-23 06:52:15,449 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,449 - app.config - INFO - Sending item: Beef Pan Fried Noodle
2025-05-23 06:52:15,452 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,452 - app.config - INFO - Sending item: Seafood Pan Fried Noodle
2025-05-23 06:52:15,455 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,456 - app.config - INFO - Sending item: House Special Pan Fried Noodle
2025-05-23 06:52:15,459 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,459 - app.config - INFO - Sending item: Chicken Mei Fun
2025-05-23 06:52:15,462 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,462 - app.config - INFO - Sending item: Shredded Pork Mei Fun
2025-05-23 06:52:15,465 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,465 - app.config - INFO - Sending item: Shrimp Mei Fun
2025-05-23 06:52:15,468 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,468 - app.config - INFO - Sending item: Beef Mei Fun
2025-05-23 06:52:15,472 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,472 - app.config - INFO - Sending item: Singapore Mei Fun
2025-05-23 06:52:15,476 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,476 - app.config - INFO - Sending item: Harmoon Mei Fun
2025-05-23 06:52:15,479 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,479 - app.config - INFO - Sending item: Seafood Mei Fun
2025-05-23 06:52:15,483 - app.config - INFO - Response status: 201
2025-05-23 06:52:15,483 - app.config - INFO - Successfully created 63 menu items
2025-05-23 06:53:33,037 - app.config - INFO - Processing menu for restaurant_id: 8153bacf-7226-4ffd-a204-f8d1eae3a631
2025-05-23 06:53:33,037 - app.config - INFO - Read image data: 542545 bytes, content_type: application/octet-stream
2025-05-23 06:53:33,038 - app.config - INFO - Saved debug image to disk
2025-05-23 06:53:33,046 - app.config - INFO - Image quality metrics: {'contrast': 60.8232460411614, 'brightness': 75.0499406064395, 'sharpness': 11139.429376082293, 'text_area_ratio': 0.8061456705220381}
2025-05-23 06:53:33,244 - app.config - INFO - Image processed. Original size: (700, 457, 3)
2025-05-23 06:53:33,894 - app.config - INFO - OCR extracted 658 characters
2025-05-23 06:53:33,895 - app.config - INFO - OCR preview: en a be i we formamamae: NZ oma WE (WRAPS (BEVERAGES JS , Sthencancance Wop MMR 30 COLD COFFEE gm @ ...
2025-05-23 06:53:33,895 - app.config - INFO - Sending OCR text to LLM for parsing
2025-05-23 06:53:36,543 - app.config - INFO - LLM raw response preview: ```json
[
  {
    "name": "COLD COFFEE",
    "description": null,
    "price": 4,
    "category": "C
2025-05-23 06:53:36,543 - app.config - INFO - Extracted JSON: [
  {
    "name": "COLD COFFEE",
    "description": null,
    "price": 4,
    "category": "COLD BREW...
2025-05-23 06:53:36,543 - app.config - INFO - Successfully parsed JSON with 8 items
2025-05-23 06:53:36,543 - app.config - INFO - Text LLM returned 8 items from OCR text
2025-05-23 06:53:36,544 - app.config - INFO - Using vision API directly as well
2025-05-23 06:53:53,951 - app.config - INFO - Vision API raw response preview: ```json
[
  {
    "name": "Paneer Peri Peri Wrap",
    "description": null,
    "price": 160,
    "c
2025-05-23 06:53:53,952 - app.config - INFO - Extracted JSON: [
  {
    "name": "Paneer Peri Peri Wrap",
    "description": null,
    "price": 160,
    "category"...
2025-05-23 06:53:53,952 - app.config - INFO - Successfully parsed Vision API JSON with 48 items
2025-05-23 06:53:53,952 - app.config - INFO - Vision API returned 48 items
2025-05-23 06:53:53,953 - app.config - INFO - Merging 48 vision items with 8 OCR items
2025-05-23 06:53:53,959 - app.config - WARNING - Skipping item without price: {'name': 'CHEESE STICKS', 'description': None, 'price': None, 'category': None}
2025-05-23 06:53:53,959 - app.config - WARNING - Skipping item without price: {'name': 'CHILLY FRY', 'description': None, 'price': None, 'category': None}
2025-05-23 06:53:53,959 - app.config - INFO - Merged items count after validation: 50
2025-05-23 06:53:53,961 - app.config - INFO - Merged results: 50 items
2025-05-23 06:53:53,961 - app.config - INFO - Final extracted menu items:
2025-05-23 06:53:53,961 - app.config - INFO -   Item 1: Paneer Peri Peri Wrap - 160.0 - WRAPS
2025-05-23 06:53:53,961 - app.config - INFO -   Item 2: Aloo Patty Wrap - 120.0 - WRAPS
2025-05-23 06:53:53,961 - app.config - INFO -   Item 3: Schezwan Paneer Wrap - 130.0 - WRAPS
2025-05-23 06:53:53,961 - app.config - INFO -   Item 4: Cheesy Macaroni Wrap - 130.0 - WRAPS
2025-05-23 06:53:53,961 - app.config - INFO -   Item 5: Chilly Paneer Wrap - 120.0 - WRAPS
2025-05-23 06:53:53,961 - app.config - INFO -   ... and 45 more items
2025-05-23 06:53:53,961 - app.config - INFO - Mapped to 50 menu items
2025-05-23 06:53:53,961 - app.config - INFO - Sending items to menu service API
2025-05-23 06:53:53,961 - app.config - INFO - Sending menu items to http://localhost:8002/api/menu
2025-05-23 06:53:53,961 - app.config - INFO - Sending item: Paneer Peri Peri Wrap
2025-05-23 06:53:53,968 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,968 - app.config - INFO - Sending item: Aloo Patty Wrap
2025-05-23 06:53:53,971 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,971 - app.config - INFO - Sending item: Schezwan Paneer Wrap
2025-05-23 06:53:53,977 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,977 - app.config - INFO - Sending item: Cheesy Macaroni Wrap
2025-05-23 06:53:53,980 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,980 - app.config - INFO - Sending item: Chilly Paneer Wrap
2025-05-23 06:53:53,984 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,984 - app.config - INFO - Sending item: Mexican Tadka Wrap
2025-05-23 06:53:53,987 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,987 - app.config - INFO - Sending item: Spinach Corn Wrap
2025-05-23 06:53:53,991 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,991 - app.config - INFO - Sending item: Paneer Tikka Wrap
2025-05-23 06:53:53,993 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,994 - app.config - INFO - Sending item: Corn Chilli Garlic Wrap
2025-05-23 06:53:53,997 - app.config - INFO - Response status: 201
2025-05-23 06:53:53,997 - app.config - INFO - Sending item: Biryani Flavour Veg Wrap
2025-05-23 06:53:54,000 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,000 - app.config - INFO - Sending item: Chilly Mushroom Wrap
2025-05-23 06:53:54,004 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,004 - app.config - INFO - Sending item: Italian Saoji Wrap
2025-05-23 06:53:54,007 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,007 - app.config - INFO - Sending item: Kebab Paneer Wrap
2025-05-23 06:53:54,011 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,011 - app.config - INFO - Sending item: Crispy bite Wrap
2025-05-23 06:53:54,014 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,014 - app.config - INFO - Sending item: Chef's Special Wrap
2025-05-23 06:53:54,016 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,017 - app.config - INFO - Sending item: Mini Burger
2025-05-23 06:53:54,020 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,020 - app.config - INFO - Sending item: Aloo Patty Burger
2025-05-23 06:53:54,023 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,023 - app.config - INFO - Sending item: Mexican Burger
2025-05-23 06:53:54,027 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,027 - app.config - INFO - Sending item: Cheese Corn Burger
2025-05-23 06:53:54,029 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,029 - app.config - INFO - Sending item: Cheesy Jalepeno Burger
2025-05-23 06:53:54,032 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,032 - app.config - INFO - Sending item: Spicy Paneer Burger
2025-05-23 06:53:54,036 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,036 - app.config - INFO - Sending item: Tandoori Paneer Burger
2025-05-23 06:53:54,040 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,040 - app.config - INFO - Sending item: French Fries
2025-05-23 06:53:54,043 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,043 - app.config - INFO - Sending item: Cheesy Masala Fries
2025-05-23 06:53:54,047 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,047 - app.config - INFO - Sending item: Paneer Sticks
2025-05-23 06:53:54,050 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,050 - app.config - INFO - Sending item: Cheese Shots
2025-05-23 06:53:54,053 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,053 - app.config - INFO - Sending item: Cold Coffee
2025-05-23 06:53:54,057 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,057 - app.config - INFO - Sending item: Crunchy Chocos Coffee
2025-05-23 06:53:54,059 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,060 - app.config - INFO - Sending item: Cold Coffee
2025-05-23 06:53:54,063 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,063 - app.config - INFO - Sending item: Mocha Coffee
2025-05-23 06:53:54,066 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,066 - app.config - INFO - Sending item: Creamy Cold Coffee
2025-05-23 06:53:54,070 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,070 - app.config - INFO - Sending item: Mix Dry Fruit Shake
2025-05-23 06:53:54,074 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,074 - app.config - INFO - Sending item: Choco Chips Thick Shake
2025-05-23 06:53:54,076 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,077 - app.config - INFO - Sending item: Oreo Shake
2025-05-23 06:53:54,080 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,080 - app.config - INFO - Sending item: Paan Shake
2025-05-23 06:53:54,083 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,083 - app.config - INFO - Sending item: Butter Scotch Thick Shake
2025-05-23 06:53:54,086 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,086 - app.config - INFO - Sending item: Nutella Thick Shake
2025-05-23 06:53:54,089 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,089 - app.config - INFO - Sending item: Milk Shake
2025-05-23 06:53:54,092 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,092 - app.config - INFO - Sending item: Strawberry Milk Shake
2025-05-23 06:53:54,096 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,096 - app.config - INFO - Sending item: Butter Scotch Milk Shake
2025-05-23 06:53:54,099 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,099 - app.config - INFO - Sending item: Brownie Temptation Shake
2025-05-23 06:53:54,101 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,102 - app.config - INFO - Sending item: Kitkat Shake
2025-05-23 06:53:54,104 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,104 - app.config - INFO - Sending item: Sparkling Water
2025-05-23 06:53:54,107 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,108 - app.config - INFO - Sending item: Strawberry Soda
2025-05-23 06:53:54,111 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,111 - app.config - INFO - Sending item: Green Apple Soda
2025-05-23 06:53:54,114 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,114 - app.config - INFO - Sending item: Blue Berry Soda
2025-05-23 06:53:54,118 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,118 - app.config - INFO - Sending item: Lemon Iced Tea
2025-05-23 06:53:54,120 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,121 - app.config - INFO - Sending item: Classic Mint Lemonade
2025-05-23 06:53:54,124 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,124 - app.config - INFO - Sending item: ICED SHAKE
2025-05-23 06:53:54,127 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,128 - app.config - INFO - Sending item: Soy Wrap
2025-05-23 06:53:54,131 - app.config - INFO - Response status: 201
2025-05-23 06:53:54,131 - app.config - INFO - Successfully created 50 menu items
2025-05-23 06:54:55,560 - app.config - INFO - Processing menu for restaurant_id: af03cb33-4aae-4a45-8bc9-c7a185bba3be
2025-05-23 06:54:55,560 - app.config - INFO - Read image data: 93987 bytes, content_type: application/octet-stream
2025-05-23 06:54:55,561 - app.config - INFO - Saved debug image to disk
2025-05-23 06:54:55,590 - app.config - INFO - Image quality metrics: {'contrast': 70.6254129567505, 'brightness': 59.82849458728011, 'sharpness': 1301.849105209743, 'text_area_ratio': 0.8754237144790257}
2025-05-23 06:54:55,870 - app.config - INFO - Image processed. Original size: (1600, 739, 3)
2025-05-23 06:54:56,759 - app.config - INFO - OCR extracted 1576 characters
2025-05-23 06:54:56,759 - app.config - INFO - OCR preview: oS = Make tA Habit-To Eat J HAND TGASTED PIZZAS} Pe Margherita (avoid county Orelzal: Cassi Creese] ...
2025-05-23 06:54:56,760 - app.config - INFO - Sending OCR text to LLM for parsing
2025-05-23 06:55:03,295 - app.config - INFO - LLM raw response preview: ```json
[
  {
    "name": "Margherita",
    "description": "avoid county Orelzal: Cassi Creese",
   
2025-05-23 06:55:03,295 - app.config - INFO - Extracted JSON: [
  {
    "name": "Margherita",
    "description": "avoid county Orelzal: Cassi Creese",
    "price"...
2025-05-23 06:55:03,295 - app.config - INFO - Successfully parsed JSON with 16 items
2025-05-23 06:55:03,296 - app.config - INFO - Text LLM returned 16 items from OCR text
2025-05-23 06:55:03,296 - app.config - INFO - Using vision API directly as well
2025-05-23 06:55:05,492 - app.config - INFO - Vision API raw response preview: ```json
[]
```
2025-05-23 06:55:05,493 - app.config - WARNING - Extracted empty JSON array
2025-05-23 06:55:05,493 - app.config - INFO - Extracted JSON: []...
2025-05-23 06:55:05,493 - app.config - INFO - Successfully parsed Vision API JSON with 0 items
2025-05-23 06:55:05,493 - app.config - INFO - Vision API returned 0 items
2025-05-23 06:55:05,493 - app.config - INFO - Merging 0 vision items with 16 OCR items
2025-05-23 06:55:05,493 - app.config - INFO - Merged results: 16 items
2025-05-23 06:55:05,493 - app.config - INFO - Final extracted menu items:
2025-05-23 06:55:05,493 - app.config - INFO -   Item 1: Margherita - 1150 - None
2025-05-23 06:55:05,493 - app.config - INFO -   Item 2: Margherita - 200 - None
2025-05-23 06:55:05,493 - app.config - INFO -   Item 3: 3 Dimensions - 220 - None
2025-05-23 06:55:05,493 - app.config - INFO -   Item 4: High-Five - 240 - None
2025-05-23 06:55:05,494 - app.config - INFO -   Item 5: Exotica - 240 - None
2025-05-23 06:55:05,494 - app.config - INFO -   ... and 11 more items
2025-05-23 06:55:05,494 - app.config - INFO - Mapped to 16 menu items
2025-05-23 06:55:05,494 - app.config - INFO - Sending items to menu service API
2025-05-23 06:55:05,494 - app.config - INFO - Sending menu items to http://localhost:8002/api/menu
2025-05-23 06:55:05,494 - app.config - INFO - Sending item: Margherita
2025-05-23 06:55:05,498 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,499 - app.config - INFO - Sending item: Margherita
2025-05-23 06:55:05,502 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,502 - app.config - INFO - Sending item: 3 Dimensions
2025-05-23 06:55:05,506 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,506 - app.config - INFO - Sending item: High-Five
2025-05-23 06:55:05,509 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,509 - app.config - INFO - Sending item: Exotica
2025-05-23 06:55:05,512 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,512 - app.config - INFO - Sending item: Spicy Paneer
2025-05-23 06:55:05,515 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,515 - app.config - INFO - Sending item: Paneer Makhnly
2025-05-23 06:55:05,518 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,518 - app.config - INFO - Sending item: Chicken Tikka
2025-05-23 06:55:05,521 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,522 - app.config - INFO - Sending item: peindl Chole Chicken
2025-05-23 06:55:05,525 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,525 - app.config - INFO - Sending item: BanB-Gue Chickery
2025-05-23 06:55:05,527 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,528 - app.config - INFO - Sending item: Panama Chicken
2025-05-23 06:55:05,531 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,531 - app.config - INFO - Sending item: Chicken Pepperoni
2025-05-23 06:55:05,534 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,534 - app.config - INFO - Sending item: Chicken Burst
2025-05-23 06:55:05,537 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,537 - app.config - INFO - Sending item: Cheese Btirst Pizza
2025-05-23 06:55:05,540 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,540 - app.config - INFO - Sending item: Extra Tope
2025-05-23 06:55:05,543 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,543 - app.config - INFO - Sending item: Extra Cheese
2025-05-23 06:55:05,547 - app.config - INFO - Response status: 201
2025-05-23 06:55:05,547 - app.config - INFO - Successfully created 16 menu items
